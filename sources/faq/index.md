
## FAQ

- - -

### 1. 如何理解 mail from, from, reply-to?

**mail_from:** 信封上的发件人, 由「前缀@域名」组成. 此域名就是所谓的[发信域名](../guide/base.md#_3)
 
**from:** 信件内容里的发件人. 用户可以任意填写, 支持别名显示.

「代发」是否出现, 就是看 *mail_from* 和 *from* 是否相同.

**reply-to:** 信件回复的收件人. 用户直接回复邮件时, *reply-to* 就是默认的收件人. 如果用户不指定它, *from* 就是默认的收件人.

    # 如何写别名
    String from = MimeUtility.encodeText("爱发信客服", "UTF-8", "B") + "<support@ifaxin.com>";

- - -

### 2. 邮件中为什么会显示代发?

邮件中存在 *mail_from* 和 *from* 两个概念, 如果这两者不一致, 则 ESP 会在客户端上显示代发, 用以提醒收件人两者的不同.

显示代发如下图: 

![pic](../resources/domain_liubida.cn.png)

    from = 'test@liubida.cn'
    mail_from = '98a47302-beee-11e4-a3b9-00163e12fa99@push.liubida.cn'

如果两者一致, 则不会显示代发, 如下图: 

![pic](../resources/domain_push.liubida.cn.png)

当然, 有些 ESP 并不会要求这两者完全一致, 而是只要求两者的域名相同 ( 比如 QQ 邮箱 ) .

由于 SendCloud 对 *mail_from* 的前缀使用的是随机串, 所以, 如果碰到严苛的 ESP ( *mail_from* 和 *from* 必须完全一致才不显示代发, 比如网易邮箱 ), 那也只能爱莫能助了.

如果你对不显示代发有非常强烈的需求, 可以联系我, 帮你再想想办法.

- - -

### 3. 有些域的发送被暂停, why?

经常有用户发现自己发送给 某个域的邮件处于暂停状态, 并且暂停原因是`域名发信超出额度限制`, 这是什么原因呢?

QQ预热机制

- - -

### 4. WebHook 的相关问题?

##为什么要使用webhook?
    
一封邮件发送之后, 会产生各种各样的事件和状态.

例如: 被ESP弹回, 或者发送成功了, 用户打开了邮件, 点击了链接, 或者很不幸的,用户退订了你的邮件, 甚至举报了您的邮件. 如果你需要捕获此类事件进行相应的处理, WebHook提供了相应的技术支持. 当某个事件发生时, 就会触发 SendCloud 向客户设置的 URL 用 POST 方式发送数据, 客户收到数据, 解析出事件和数据, 做后续的处理.

##webhook签名认证是什么，是必须的吗?
    
签名认证是为了进行身份的验证, SendCloud为客户生成了一个APP KEY, 这个APP KEY只有Sencloud和客户知道, SendCloud将这个APP KEY加密隐藏在签名中, 客户收到数据后用同样的算法比对签名, 就可以证实这个消息确实是SendCloud发送的, 从而预防了其他人伪造消息的可能.
签名验证并不是必须的, 但是如果客户对消息的可靠性要求非常高, 建议使用.

##发送的消息未及时接收,消息会丢失吗?
    
如果你配置了POST URL, SendCloud将进行5次重试。 每次重试的时间间隔最快为1, 2, 4, 8, 16分钟，即在消息丢失前，你将有至少半小时的时间修复问题，如果超过重试次数，SendCloud将消息丢弃。 你将有3秒钟的时间处理每条消息，如果3秒钟之内未向SendCloud返回状态码200，SendCloud将会重发该条消息。    


- - -

### 5. 可以配置客户端来使用 SendCloud 发信么?

